<div class="modal-overlay" *ngIf="isOpen" (click)="onClose()" [class.visible]="isOpen">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h2>{{ isEditMode ? 'Editar Pedido' : 'Adicionar Novo Pedido' }}</h2>
    <form (ngSubmit)="onSubmit()">
      <div class="form-grid">
        <div class="form-group">
          <label for="customerName">Nome do Cliente</label>
          <input type="text" id="customerName" [(ngModel)]="model.customerName" name="customerName" required />
        </div>
        <div class="form-group">
          <label for="customerCpf">CPF</label>
          <input type="text" id="customerCpf" [(ngModel)]="model.customerCpf" name="customerCpf" required />
        </div>
        <div class="form-group">
          <label for="customerPhone">Telefone</label>
          <input type="tel" id="customerPhone" [(ngModel)]="model.customerPhone" name="customerPhone" />
        </div>
        <div class="form-group">
          <label for="customerEmail">Email</label>
          <input type="email" id="customerEmail" [(ngModel)]="model.customerEmail" name="customerEmail" />
        </div>
        <div class="form-group">
          <label for="serviceName">Serviço</label>
          <select id="serviceName" [(ngModel)]="model.serviceName" name="serviceName" required>
            <option value="" disabled>Selecione um serviço</option>
            <option *ngFor="let service of services" [value]="service">{{ service }}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="totalPrice">Preço Total</label>
          <div class="input-group">
            <span class="input-group-text">R$</span>
            <input type="number" id="totalPrice" [(ngModel)]="model.totalPrice" name="totalPrice" required min="0" step="0.01" />
          </div>
        </div>
      </div>

      <!-- Campos de Dimensões -->
      <h3 class="form-section-header">Dimensões (Opcional)</h3>
      <div class="form-grid">
        <div class="form-group">
          <label for="height">Altura (m)</label>
          <input type="number" id="height" [(ngModel)]="model.height" name="height" min="0" step="0.01" />
        </div>
        <div class="form-group">
          <label for="width">Largura (m)</label>
          <input type="number" id="width" [(ngModel)]="model.width" name="width" min="0" step="0.01" />
        </div>
        <div class="form-group">
          <label for="length">Comprimento (m)</label>
          <input type="number" id="length" [(ngModel)]="model.length" name="length" min="0" step="0.01" />
        </div>
      </div>

      <div class="form-group">
        <label for="status">Status</label>
        <select id="status" [(ngModel)]="model.status" name="status" required>
          <option value="Pendente">Pendente</option>
          <option value="Em Processo">Em Processo</option>
          <option value="Finalizado">Finalizado</option>
        </select>
      </div>

      <div class="modal-actions">
        <button type="button" class="btn-secondary" (click)="onClose()">Cancelar</button>
        <button type="submit" class="btn-primary">{{ isEditMode ? 'Salvar Alterações' : 'Adicionar Pedido' }}</button>
      </div>
    </form>
    <button class="close-button" (click)="onClose()">×</button>
  </div>
</div>